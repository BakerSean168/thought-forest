---
created: 2025-12-19T15:37:06
updated: 2025-12-19T16:09:05
---

## bbb 直播相关

gitlab：[在线直播会议系统 / Boc Live Caption · GitLab](http://10.248.18.6:9000/boc-live/boc-live-caption)
代码仓库已经统一了，都是生产环境迁移过来的完整核心代码，详情件代码仓库 git 信息

### 开发注意

**基础信息**：
- 用户名密码：
	- root@1qaz!QAZ
	- 3.0.x源码在 10.248.17.21 服务器的目录：/home/boc-live/bbb-docker-3.0.8-release
- web前端相关目录： /home/boc-live/bbb-docker-3.0.8-release/repos/bigbluebutton/bigbluebutton-html5
- [21服务器（测试环境）bbb域名](https://live.v3.olp.credat.com.cn/)

推荐使用 vscode remote 远程开发，修改代码后直接在 项目根目录（包含docker-compose配置文件）执行下面的命令，然后打开 测试域名看修改

`docker compose up -d --build --force-recreate nginx`
*(注意：这会触发 HTML5 的完整编译，可能需要几分钟)*

### 相关单子

#### 白板消失问题

现在是使用了 bbb 自带的一个默认生成的 pdf文件来作为白板，将其名字改为了 whiteboard-welcome.pdf（后端代码 or 控制器改的）。只有存在这个文件时才能有白板切换按钮。 但是发现当 用户事先上传了附件时，bbb就不会生成默认的 pdf（改名为 whiteboard-welcome.pdf），白板切换按钮也就失效了。   
现在解决方案应该是有两个：
- 一个是修改 bbb 配置，让他始终生成这个 默认 pdf
	- 在创建会议时添加参数 `preUploadedPresentationOverrideDefault=false`，这样即使预上传了文档，BBB 也会同时加载默认的 `whiteboard-welcome.pdf`
- 第二个是 检测到没有 这个 pdf 时自动生成。
	- 在前端检测到没有 `whiteboard-welcome.pdf` 时，通过 BBB 的 `insertDocument` API 动态插入该文件。

现在是已经用了第二种方法，git 记录里有，还没测试过能否成功

#### 字幕样式优化

[TASK#1428 直播字幕功能UI重构 / v3.6 - 禅道](http://111.196.180.221:8087/zentao/task-view-1428.html)

现在只是添加了侧边栏，里面的对话样式需要测试

![[Pasted image 20251219155017.png]]