---
tags:
  - tech/dev/frontend
  - type/concept
  - status/seed
description: Vue3虚拟DOM
created: 2025-01-01T00:00:00
updated: 2025-12-07T21:16:37
---

> [!info] **上级索引**
> [[前端基础 MOC]] | [[ECMAScript MOC]]

---


# Vue3虚拟DOM 

## 基础概念

虚拟DOM（Virtual DOM）是一种用于优化页面渲染性能的技术，其核心原理是通过 JavaScript 对象对真实DOM进行抽象描述，并作为中间层协调视图更新。  

1. 抽象表示
  虚拟DOM通过轻量级的JS对象（如tagName、props、children等属性）模拟真实DOM结构。例如，一个`<div>`节点会被表示为：

  ```Js
  { tag: 'div', props: { id: 'app' }, children: [...] }
  ```

  这种抽象使得操作成本远低于直接操作真实DOM。
2. 更新流程
  初次渲染：将虚拟DOM转化为真实DOM并挂载到页面。
  状态变更：生成新的虚拟DOM树。
  差异对比（Diff算法）：比较新旧虚拟DOM树的差异。
  批量更新：仅将差异部分应用到真实DOM，减少重绘和回流。
3. 核心优势
  性能优化：通过批量更新减少DOM操作次数。
  跨平台能力：虚拟DOM可适配不同平台（如Web、Native），只需实现对应的渲染逻辑。
  开发友好性：开发者无需手动优化DOM操作。

### Diff 算法实现原理

Diff算法是虚拟DOM的核心，用于高效找出新旧虚拟DOM树的差异。其核心策略包括：  
1. 分层比较  
  仅比较同一层的节点，如果节点跨层移动，直接删除旧节点，创建新节点。  
2. 双端对比（Vue）  
  头头、尾尾、头尾、尾头 匹配，减少遍历次数。  
3. Key 的作用  
  通过唯一 key 标识节点身份，避免复用导致顺序错乱。  
  列表渲染中，可帮助 Diff 快速定位可复用节点。  
4. 动态节点标记（Vue3 优化）
  Vue3在编译阶段通过patchFlag标记动态节点（如绑定响应式变量的元素），运行时直接定位变更部分，跳过全树对比。  
## 使用指南

## 实战经验

## 经验总结

## 信息参考

