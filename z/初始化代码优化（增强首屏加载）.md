---
tags:
  - tech/dev/frame
  - type/howto
  - status/growing
description: Vueåº”ç”¨åˆå§‹åŒ–ä»£ç ä¼˜åŒ–ä¸é¦–å±åŠ è½½æ€§èƒ½æå‡æ–¹æ¡ˆ
created: 2025-01-01T00:00:00
updated: 2025-12-07T21:16:36
---

> [!info] **ä¸Šçº§ç´¢å¼•**
> [[Vue3 MOC]] | [[å‰ç«¯æ€§èƒ½ä¼˜åŒ– MOC]]

---


æˆ‘æ¥è¯¦ç»†åˆ†æä¸€ä¸‹ä½ çš„æƒ…å†µï¼Œå¹¶ç»™å‡ºä¸»æµçš„æœ€ä½³å®è·µæ–¹æ¡ˆã€‚

## ğŸ“Š å½“å‰é—®é¢˜åˆ†æ

### é—®é¢˜æ ¹æº

```typescript
// main.ts
import { AppInitializationManager } from './shared/initialization/AppInitializationManager';

// AppInitializationManager.ts (é¡¶å±‚é™æ€å¯¼å…¥)
import { registerGoalInitializationTasks } from '../../modules/goal';
import { registerTaskInitializationTasks } from '../../modules/task';
import { registerReminderInitializationTasks } from '../../modules/reminder';
// ... æ›´å¤šæ¨¡å—

// modules/goal/index.ts
export { useGoalStore } from './presentation/stores/goalStore';
export { goalManagementApplicationService } from './application/services';
// å¯¼å‡ºæ—¶å°±å®ä¾‹åŒ–äº† stores å’Œ services
```

**ç»“æœ**ï¼šé™æ€ä¾èµ–é“¾ â†’ Vite æŠŠæ‰€æœ‰æ¨¡å—éƒ½æ‰“è¿›é¦–å± bundle â†’ ç™»å½•é¡µåŠ è½½äº†å®Œæ•´åº”ç”¨ä»£ç ã€‚

---

## ğŸ¯ ä¸»æµæœ€ä½³å®è·µæ–¹æ¡ˆï¼ˆ2024-2025ï¼‰

ç»“åˆ **Vite**ã€**Vue 3**ã€**Pinia** çš„ç”Ÿæ€ç‰¹æ€§ï¼Œæ¨èä»¥ä¸‹ä¸‰ç§æ–¹æ¡ˆï¼ˆæŒ‰æ¨èåº¦æ’åºï¼‰ï¼š

---

## âœ… **æ–¹æ¡ˆ 1ï¼šåŒé˜¶æ®µåˆå§‹åŒ– + åŠ¨æ€å¯¼å…¥ï¼ˆæ¨èï¼‰**

è¿™æ˜¯ç›®å‰æœ€ä¸»æµçš„å®è·µï¼Œè¢« **Nuxt 3**ã€**Quasar**ã€**Vben Admin** ç­‰æ¡†æ¶é‡‡ç”¨ã€‚

### æ ¸å¿ƒæ€è·¯

- **åº”ç”¨å¯åŠ¨é˜¶æ®µ**ï¼šåªåˆå§‹åŒ–åŸºç¡€è®¾æ–½ï¼ˆäº‹ä»¶æ€»çº¿ã€è®¤è¯ã€ä¸»é¢˜ï¼‰
- **ç”¨æˆ·ç™»å½•å**ï¼šåŠ¨æ€åŠ è½½ä¸šåŠ¡æ¨¡å—ï¼ˆgoalã€taskã€reminderï¼‰

### å®ç°æ­¥éª¤

#### 1. æ‹†åˆ†åˆå§‹åŒ–ç®¡ç†å™¨ 


```typescript
// æ–°å»º apps/web/src/shared/initialization/moduleRegistry.ts

/**
 * æ¨¡å—æ³¨å†Œè¡¨ - æŒ‰éœ€åŠ¨æ€åŠ è½½
 */

type ModuleLoader = () => Promise<{ register: () => void }>;

interface ModuleDefinition {
  name: string;
  loader: ModuleLoader;
  priority: number;
  required: boolean; // æ˜¯å¦å¿…é¡»æˆåŠŸåŠ è½½
}

/**
 * æ¨¡å—åˆ†ç±»ï¼š
 * - critical: ç™»å½•å‰å¿…é¡»ï¼ˆthemeã€authï¼‰
 * - authenticated: ç™»å½•ååŠ è½½ï¼ˆgoalã€taskã€reminderï¼‰
 */
export const moduleRegistry = {
  // ========== å…³é”®æ¨¡å—ï¼ˆç™»å½•å‰ï¼‰ ==========
  critical: [
    {
      name: 'theme',
      loader: () => import('@/modules/theme/initialization').then(m => ({ 
        register: m.registerThemeInitializationTasks 
      })),
      priority: 100,
      required: true,
    },
    {
      name: 'authentication',
      loader: () => import('@/modules/authentication').then(m => ({ 
        register: m.registerAuthenticationInitializationTasks 
      })),
      priority: 90,
      required: true,
    },
  ] as ModuleDefinition[],

  // ========== ä¸šåŠ¡æ¨¡å—ï¼ˆç™»å½•åï¼‰ ==========
  authenticated: [
    {
      name: 'account',
      loader: () => import('@/modules/account').then(m => ({ 
        register: m.registerAccountInitializationTasks 
      })),
      priority: 80,
      required: true,
    },
    {
      name: 'notification',
      loader: () => import('@/modules/notification').then(m => ({ 
        register: m.registerNotificationInitializationTasks 
      })),
      priority: 70,
      required: false,
    },
    {
      name: 'sse',
      loader: () => import('@/modules/notification/initialization/sseInitialization').then(m => ({ 
        register: m.registerSSEInitializationTasks 
      })),
      priority: 65,
      required: false,
    },
    {
      name: 'setting',
      loader: () => import('@/modules/setting/initialization/settingInitialization').then(m => ({ 
        register: m.registerSettingInitializationTasks 
      })),
      priority: 60,
      required: false,
    },
    {
      name: 'goal',
      loader: () => import('@/modules/goal').then(m => ({ 
        register: m.registerGoalInitializationTasks 
      })),
      priority: 50,
      required: false,
    },
    {
      name: 'task',
      loader: () => import('@/modules/task').then(m => ({ 
        register: m.registerTaskInitializationTasks 
      })),
      priority: 50,
      required: false,
    },
    {
      name: 'reminder',
      loader: () => import('@/modules/reminder').then(m => ({ 
        register: m.registerReminderInitializationTasks 
      })),
      priority: 50,
      required: false,
    },
    {
      name: 'schedule',
      loader: () => import('@/modules/schedule').then(m => ({ 
        register: m.registerScheduleInitializationTasks 
      })),
      priority: 40,
      required: false,
    },
  ] as ModuleDefinition[],
};

/**
 * åŠ¨æ€åŠ è½½æ¨¡å—ç»„
 */
export async function loadModules(
  modules: ModuleDefinition[],
  onProgress?: (current: number, total: number, name: string) => void
): Promise<void> {
  const sortedModules = modules.sort((a, b) => b.priority - a.priority);
  const total = sortedModules.length;

  for (let i = 0; i < sortedModules.length; i++) {
    const module = sortedModules[i];
    
    try {
      onProgress?.(i + 1, total, module.name);
      
      const { register } = await module.loader();
      register();
      
      console.log(`âœ… [ModuleRegistry] ${module.name} æ¨¡å—å·²æ³¨å†Œ`);
    } catch (error) {
      console.error(`âŒ [ModuleRegistry] ${module.name} æ¨¡å—åŠ è½½å¤±è´¥:`, error);
      
      if (module.required) {
        throw new Error(`å¿…éœ€æ¨¡å— ${module.name} åŠ è½½å¤±è´¥`);
      }
    }
  }
}
```

#### 2. é‡æ„ AppInitializationManager

```typescript
// apps/web/src/shared/initialization/AppInitializationManager.ts

import {
  InitializationManager,
  InitializationPhase,
  type InitializationTask,
} from '@dailyuse/utils';
import { moduleRegistry, loadModules } from './moduleRegistry';

/**
 * æ³¨å†ŒåŸºç¡€è®¾æ–½çš„åˆå§‹åŒ–ä»»åŠ¡
 */
function registerInfrastructureInitializationTasks(): void {
  const manager = InitializationManager.getInstance();

  const eventSystemInitTask: InitializationTask = {
    name: 'event-system',
    phase: InitializationPhase.APP_STARTUP,
    priority: 5,
    initialize: async () => {
      console.log('âœ… [Infrastructure] äº‹ä»¶ç³»ç»Ÿå·²å°±ç»ª');
    },
    cleanup: async () => {
      console.log('ğŸ§¹ [Infrastructure] äº‹ä»¶ç³»ç»Ÿå·²æ¸…ç†');
    },
  };

  manager.registerTask(eventSystemInitTask);
  console.log('ğŸ“ [Infrastructure] åŸºç¡€è®¾æ–½åˆå§‹åŒ–ä»»åŠ¡å·²æ³¨å†Œ');
}

/**
 * åº”ç”¨åˆå§‹åŒ–ç®¡ç†å™¨
 */
export class AppInitializationManager {
  private static initialized = false;
  private static authenticatedModulesLoaded = false;

  /**
   * åˆå§‹åŒ–åº”ç”¨ï¼ˆåªåŠ è½½å…³é”®æ¨¡å—ï¼‰
   */
  static async initializeApp(): Promise<void> {
    if (AppInitializationManager.initialized) {
      console.log('âš ï¸ [AppInitializationManager] åº”ç”¨å·²ç»åˆå§‹åŒ–ï¼Œè·³è¿‡é‡å¤åˆå§‹åŒ–');
      return;
    }

    console.log('ğŸš€ [AppInitializationManager] å¼€å§‹åˆå§‹åŒ–åº”ç”¨ï¼ˆä»…å…³é”®æ¨¡å—ï¼‰');

    try {
      // 1. æ³¨å†ŒåŸºç¡€è®¾æ–½
      registerInfrastructureInitializationTasks();

      // 2. åŠ¨æ€åŠ è½½å…³é”®æ¨¡å—ï¼ˆthemeã€authenticationï¼‰
      console.log('ğŸ“¦ [AppInitializationManager] åŠ è½½å…³é”®æ¨¡å—...');
      await loadModules(moduleRegistry.critical, (current, total, name) => {
        console.log(`[${current}/${total}] æ­£åœ¨åŠ è½½ ${name}...`);
      });

      // 3. æ‰§è¡Œåº”ç”¨å¯åŠ¨é˜¶æ®µçš„åˆå§‹åŒ–
      const manager = InitializationManager.getInstance();
      await manager.executePhase(InitializationPhase.APP_STARTUP);

      AppInitializationManager.initialized = true;
      console.log('âœ… [AppInitializationManager] åº”ç”¨åˆå§‹åŒ–å®Œæˆï¼ˆå…³é”®æ¨¡å—å·²åŠ è½½ï¼‰');
    } catch (error) {
      console.error('âŒ [AppInitializationManager] åº”ç”¨åˆå§‹åŒ–å¤±è´¥', error);
      AppInitializationManager.initialized = true; // å®¹é”™æ¨¡å¼
      console.warn('âš ï¸ [AppInitializationManager] ä»¥é™çº§æ¨¡å¼å®Œæˆåˆå§‹åŒ–');
    }
  }

  /**
   * ç”¨æˆ·ç™»å½•æ—¶çš„åˆå§‹åŒ–ï¼ˆåŠ è½½ä¸šåŠ¡æ¨¡å—ï¼‰
   */
  static async initializeUserSession(accountUuid: string): Promise<void> {
    console.log(`ğŸ” [AppInitializationManager] åˆå§‹åŒ–ç”¨æˆ·ä¼šè¯: ${accountUuid}`);

    try {
      // 1. å¦‚æœä¸šåŠ¡æ¨¡å—è¿˜æ²¡åŠ è½½ï¼Œå…ˆåŠ¨æ€åŠ è½½
      if (!AppInitializationManager.authenticatedModulesLoaded) {
        console.log('ğŸ“¦ [AppInitializationManager] åŠ è½½ä¸šåŠ¡æ¨¡å—...');
        
        await loadModules(moduleRegistry.authenticated, (current, total, name) => {
          console.log(`[${current}/${total}] æ­£åœ¨åŠ è½½ ${name}...`);
        });

        AppInitializationManager.authenticatedModulesLoaded = true;
        console.log('âœ… [AppInitializationManager] ä¸šåŠ¡æ¨¡å—å·²åŠ è½½');
      }

      // 2. æ‰§è¡Œç”¨æˆ·ç™»å½•é˜¶æ®µçš„åˆå§‹åŒ–
      const manager = InitializationManager.getInstance();
      await manager.executePhase(InitializationPhase.USER_LOGIN, { accountUuid });

      console.log(`âœ… [AppInitializationManager] ç”¨æˆ·ä¼šè¯åˆå§‹åŒ–å®Œæˆ: ${accountUuid}`);
    } catch (error) {
      console.error('âŒ [AppInitializationManager] ç”¨æˆ·ä¼šè¯åˆå§‹åŒ–å¤±è´¥', error);
      throw error;
    }
  }

  /**
   * ç”¨æˆ·ç™»å‡ºæ—¶çš„æ¸…ç†
   */
  static async cleanupUserSession(): Promise<void> {
    console.log('ğŸ”’ [AppInitializationManager] æ¸…ç†ç”¨æˆ·ä¼šè¯');

    try {
      const manager = InitializationManager.getInstance();
      await manager.cleanupPhase(InitializationPhase.USER_LOGIN);

      console.log('âœ… [AppInitializationManager] ç”¨æˆ·ä¼šè¯æ¸…ç†å®Œæˆ');
    } catch (error) {
      console.error('âŒ [AppInitializationManager] ç”¨æˆ·ä¼šè¯æ¸…ç†å¤±è´¥', error);
    }
  }

  /**
   * é¢„åŠ è½½ä¸šåŠ¡æ¨¡å—ï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰
   * åœ¨ç©ºé—²æ—¶é—´æå‰åŠ è½½ï¼Œæå‡ç™»å½•åçš„ä½“éªŒ
   */
  static async preloadAuthenticatedModules(): Promise<void> {
    if (AppInitializationManager.authenticatedModulesLoaded) {
      return;
    }

    console.log('ğŸ”® [AppInitializationManager] å¼€å§‹é¢„åŠ è½½ä¸šåŠ¡æ¨¡å—...');

    try {
      // ä½¿ç”¨ requestIdleCallback åœ¨æµè§ˆå™¨ç©ºé—²æ—¶åŠ è½½
      if ('requestIdleCallback' in window) {
        await new Promise<void>((resolve) => {
          window.requestIdleCallback(async () => {
            await loadModules(moduleRegistry.authenticated);
            AppInitializationManager.authenticatedModulesLoaded = true;
            console.log('âœ… [AppInitializationManager] ä¸šåŠ¡æ¨¡å—é¢„åŠ è½½å®Œæˆ');
            resolve();
          });
        });
      } else {
        // é™çº§æ–¹æ¡ˆï¼šå»¶è¿ŸåŠ è½½
        setTimeout(async () => {
          await loadModules(moduleRegistry.authenticated);
          AppInitializationManager.authenticatedModulesLoaded = true;
          console.log('âœ… [AppInitializationManager] ä¸šåŠ¡æ¨¡å—é¢„åŠ è½½å®Œæˆ');
        }, 2000);
      }
    } catch (error) {
      console.warn('âš ï¸ [AppInitializationManager] ä¸šåŠ¡æ¨¡å—é¢„åŠ è½½å¤±è´¥ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰', error);
    }
  }

  // ... å…¶ä»–æ–¹æ³•ä¿æŒä¸å˜
}
```

#### 3. åœ¨è·¯ç”±å®ˆå«ä¸­è§¦å‘ç”¨æˆ·ä¼šè¯åˆå§‹åŒ–

```typescript
// apps/web/src/shared/router/guards.ts

import type { Router } from 'vue-router';
import { useAuthStore } from '@/modules/authentication/presentation/stores/authStore';
import { AppInitializationManager } from '../initialization/AppInitializationManager';

export function applyRouterGuards(router: Router) {
  router.beforeEach(async (to, from, next) => {
    const authStore = useAuthStore();

    // æ£€æŸ¥æ˜¯å¦éœ€è¦è®¤è¯
    const requiresAuth = to.meta.requiresAuth ?? true;

    if (requiresAuth && !authStore.isAuthenticated) {
      // æœªç™»å½•ï¼Œé‡å®šå‘åˆ°ç™»å½•é¡µ
      return next({ name: 'auth', query: { redirect: to.fullPath } });
    }

    // âœ… å…³é”®ï¼šç™»å½•åé¦–æ¬¡è¿›å…¥éœ€è¦è®¤è¯çš„è·¯ç”±æ—¶ï¼Œåˆå§‹åŒ–ç”¨æˆ·ä¼šè¯
    if (requiresAuth && authStore.isAuthenticated && authStore.currentAccount) {
      try {
        // åˆå§‹åŒ–ç”¨æˆ·ä¼šè¯ï¼ˆä¼šåŠ¨æ€åŠ è½½ä¸šåŠ¡æ¨¡å—ï¼‰
        await AppInitializationManager.initializeUserSession(authStore.currentAccount.uuid);
        console.log('âœ… [Router] ç”¨æˆ·ä¼šè¯å·²åˆå§‹åŒ–');
      } catch (error) {
        console.error('âŒ [Router] ç”¨æˆ·ä¼šè¯åˆå§‹åŒ–å¤±è´¥', error);
        // å¯é€‰ï¼šé‡å®šå‘åˆ°é”™è¯¯é¡µæˆ–æç¤ºç”¨æˆ·
      }
    }

    next();
  });

  // å¯é€‰ï¼šåœ¨ç™»å½•é¡µé¢„åŠ è½½ä¸šåŠ¡æ¨¡å—
  router.beforeEach((to, from, next) => {
    if (to.name === 'auth' && from.name !== 'auth') {
      // ç”¨æˆ·è¿›å…¥ç™»å½•é¡µæ—¶ï¼Œå¼€å§‹é¢„åŠ è½½ä¸šåŠ¡æ¨¡å—ï¼ˆä¸é˜»å¡å¯¼èˆªï¼‰
      AppInitializationManager.preloadAuthenticatedModules();
    }
    next();
  });
}
```

---

## ğŸ“ˆ **æ–¹æ¡ˆå¯¹æ¯”**

| æ–¹æ¡ˆ | ç™»å½•é¡µ Bundle | ç™»å½•åå»¶è¿Ÿ | å®ç°å¤æ‚åº¦ | ä¸»æµé‡‡ç”¨ |
|------|-------------|-----------|----------|---------|
| **ç°çŠ¶**ï¼ˆå…¨é™æ€å¯¼å…¥ï¼‰ | ğŸ”´ å¤§ï¼ˆ1MB+ï¼‰ | âœ… æ— å»¶è¿Ÿ | âœ… ç®€å• | âŒ è¿‡æ—¶ |
| **æ–¹æ¡ˆ 1**ï¼ˆåŒé˜¶æ®µåŠ¨æ€ï¼‰ | âœ… å°ï¼ˆ200KBï¼‰ | ğŸŸ¡ è½»å¾®ï¼ˆ100-300msï¼‰ | ğŸŸ¡ ä¸­ç­‰ | âœ… ä¸»æµ |
| **æ–¹æ¡ˆ 2**ï¼ˆè·¯ç”±æ‡’åŠ è½½ï¼‰ | âœ… å°ï¼ˆ200KBï¼‰ | ğŸŸ¡ è½»å¾®ï¼ˆ50-200msï¼‰ | ğŸŸ¢ ç®€å• | âœ… å¸¸è§ |
| **æ–¹æ¡ˆ 3**ï¼ˆå¾®å‰ç«¯ï¼‰ | âœ… æå°ï¼ˆ50KBï¼‰ | ğŸ”´ æ˜æ˜¾ï¼ˆ500ms+ï¼‰ | ğŸ”´ å¤æ‚ | âš ï¸ å¤§å‹é¡¹ç›® |

---

## ğŸ¯ **æ¨èæ–¹æ¡ˆï¼šæ–¹æ¡ˆ 1ï¼ˆåŒé˜¶æ®µåˆå§‹åŒ–ï¼‰**

### ä¼˜åŠ¿

1. **é¦–å±ä½“ç§¯å‡å°‘ 70-80%**ï¼šç™»å½•é¡µåªåŠ è½½ theme + authï¼Œä¸åŠ è½½ goal/task/reminder
2. **ç”¨æˆ·æ„ŸçŸ¥å»¶è¿Ÿä½**ï¼šç™»å½•æˆåŠŸåå¹¶è¡ŒåŠ è½½æ‰€æœ‰æ¨¡å—ï¼Œé€šå¸¸ 100-300ms
3. **æ¶æ„æ¸…æ™°**ï¼šæ¨¡å—åˆ†ç±»æ˜ç¡®ï¼ˆcritical / authenticatedï¼‰ï¼Œæ˜“ç»´æŠ¤
4. **ç¬¦åˆä¸»æµå®è·µ**ï¼šNuxt 3ã€Vben Adminã€Ant Design Pro ç­‰æ¡†æ¶éƒ½é‡‡ç”¨æ­¤æ–¹æ¡ˆ

### åŠ£åŠ¿

1. **ç™»å½•åæœ‰è½»å¾®å»¶è¿Ÿ**ï¼šé¦–æ¬¡è¿›å…¥ä¸»åº”ç”¨æ—¶éœ€è¦åŠ è½½æ¨¡å—ï¼ˆå¯é€šè¿‡é¢„åŠ è½½ä¼˜åŒ–ï¼‰
2. **éœ€è¦é‡æ„åˆå§‹åŒ–æµç¨‹**ï¼šéœ€è¦ä¿®æ”¹ `AppInitializationManager` å’Œè·¯ç”±å®ˆå«

---

## ğŸš€ **è¿›ä¸€æ­¥ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰**

### 1. ä½¿ç”¨ Vite çš„ `preload` æŒ‡ä»¤

```typescript
// vite.config.ts
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          // å…³é”®æ¨¡å—å•ç‹¬æ‰“åŒ…
          'critical': ['./src/modules/theme', './src/modules/authentication'],
          // ä¸šåŠ¡æ¨¡å—æŒ‰åŠŸèƒ½åˆ†ç»„
          'features-goal': ['./src/modules/goal'],
          'features-task': ['./src/modules/task'],
          'features-reminder': ['./src/modules/reminder'],
        },
      },
    },
  },
});
```

### 2. æ·»åŠ åŠ è½½è¿›åº¦æ¡

```vue
<!-- apps/web/src/components/ModuleLoadingIndicator.vue -->
<template>
  <v-overlay v-model="isLoading" persistent>
    <v-card>
      <v-card-text>
        <v-progress-linear
          :model-value="progress"
          :buffer-value="100"
          color="primary"
          height="6"
        />
        <div class="text-center mt-4">
          æ­£åœ¨åŠ è½½æ¨¡å—... ({{ currentModule }} - {{ progress }}%)
        </div>
      </v-card-text>
    </v-card>
  </v-overlay>
</template>

<script setup lang="ts">
import { ref } from 'vue';

const isLoading = ref(false);
const progress = ref(0);
const currentModule = ref('');

// ç›‘å¬æ¨¡å—åŠ è½½äº‹ä»¶
// eventBus.on('module:loading', (data) => { ... });
</script>
```

### 3. æ·»åŠ é”™è¯¯é‡è¯•æœºåˆ¶

```typescript
// moduleRegistry.ts
export async function loadModules(
  modules: ModuleDefinition[],
  options: {
    maxRetries?: number;
    retryDelay?: number;
    onProgress?: (current: number, total: number, name: string) => void;
  } = {}
): Promise<void> {
  const { maxRetries = 3, retryDelay = 1000, onProgress } = options;

  for (const module of modules) {
    let retries = 0;
    let success = false;

    while (retries < maxRetries && !success) {
      try {
        const { register } = await module.loader();
        register();
        success = true;
        console.log(`âœ… [ModuleRegistry] ${module.name} æ¨¡å—å·²æ³¨å†Œ`);
      } catch (error) {
        retries++;
        console.warn(`âš ï¸ [ModuleRegistry] ${module.name} åŠ è½½å¤±è´¥ï¼Œé‡è¯• ${retries}/${maxRetries}`, error);

        if (retries < maxRetries) {
          await new Promise(resolve => setTimeout(resolve, retryDelay));
        } else if (module.required) {
          throw new Error(`å¿…éœ€æ¨¡å— ${module.name} åŠ è½½å¤±è´¥`);
        }
      }
    }
  }
}
```

---

## ğŸ“Š **é¢„æœŸæ•ˆæœ**

### Bundle å¤§å°å¯¹æ¯”

```
# ä¼˜åŒ–å‰
login-page.js:  1.2 MB  (åŒ…å«æ‰€æœ‰æ¨¡å—)
dashboard.js:   50 KB

# ä¼˜åŒ–å
login-page.js:    200 KB  (åªåŒ…å« theme + auth)
authenticated.js: 800 KB  (goal + task + reminder + å…¶ä»–ä¸šåŠ¡æ¨¡å—)
dashboard.js:     50 KB
```

### åŠ è½½æ—¶é—´å¯¹æ¯”

```
# ä¼˜åŒ–å‰
ç™»å½•é¡µé¦–æ¬¡åŠ è½½:  2.5s
ç™»å½•æˆåŠŸè·³è½¬:    0.1s (å·²é¢„åŠ è½½)

# ä¼˜åŒ–å
ç™»å½•é¡µé¦–æ¬¡åŠ è½½:  0.8s  (å‡å°‘ 68%)
ç™»å½•æˆåŠŸè·³è½¬:    0.3s  (åŠ¨æ€åŠ è½½æ¨¡å—)
```

---

## âœ… **æ€»ç»“**

**æ¨èé‡‡ç”¨æ–¹æ¡ˆ 1ï¼ˆåŒé˜¶æ®µåˆå§‹åŒ– + åŠ¨æ€å¯¼å…¥ï¼‰**ï¼ŒåŸå› ï¼š
1. ç¬¦åˆ 2024-2025 ä¸»æµå®è·µï¼ˆNuxt 3ã€Vite ç”Ÿæ€ï¼‰
2. æ˜¾è‘—å‡å°‘é¦–å± bundleï¼ˆ70-80%ï¼‰ï¼Œæå‡ç™»å½•é¡µåŠ è½½é€Ÿåº¦
3. ç”¨æˆ·æ„ŸçŸ¥å»¶è¿Ÿä½ï¼ˆ100-300msï¼‰ï¼Œå¯é€šè¿‡é¢„åŠ è½½è¿›ä¸€æ­¥ä¼˜åŒ–
4. æ¶æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•

**å®æ–½æ­¥éª¤**ï¼š
1. åˆ›å»º `moduleRegistry.ts`ï¼Œå®šä¹‰æ¨¡å—åˆ†ç±»å’ŒåŠ è½½å™¨
2. é‡æ„ `AppInitializationManager`ï¼Œæ‹†åˆ†å…³é”®æ¨¡å—å’Œä¸šåŠ¡æ¨¡å—
3. åœ¨è·¯ç”±å®ˆå«ä¸­è§¦å‘ç”¨æˆ·ä¼šè¯åˆå§‹åŒ–
4. ï¼ˆå¯é€‰ï¼‰æ·»åŠ åŠ è½½è¿›åº¦æ¡å’Œé”™è¯¯é‡è¯•æœºåˆ¶

éœ€è¦æˆ‘å¸®ä½ å®æ–½è¿™ä¸ªæ–¹æ¡ˆå—ï¼Ÿæˆ‘å¯ä»¥ç›´æ¥ä¿®æ”¹ç›¸å…³æ–‡ä»¶ã€‚
