---
tags:
  - life/work
  - type/howto
  - status/growing
description: 手工匹配系统实现
created: 2025-01-01T00:00:00
updated: 2025-12-07T21:16:36
---

> [!info] **上级索引**
> [[职业发展 MOC]] | [[生活 MOC]]

---


# 手工匹配系统实现 

- [x] 主页面表格内容修复，显示正确技能名称
- [x] 未匹配技能表单内容修复，去除多余列
- [x] 匹配结果对话框，获取结果和保存结果逻辑
- [x] learning map 修改内容背景变红
- [x] 用户端也提示

## rematch dialog

```TypeScript
// rematch接口返回的数据结构大致如下,返回每条数据的信息。
{
	'old': [
		{
			id,
			name,
			reason,
			...
		},{},{}
	],
	'new': [
		{
			id,
			name,
			reason,
			...
		},{},{}
	]
}

// 确认 match 后的传入的数据结构大致如下,直接传入要保留的数据的对应ID
{
	'old':[
		1,2,3
	],
	'new':[
		2
	]
}
```

![[Pasted image 20251010180414.png]]

- 一二级技能 id 通过 技能配置接口（list-by-login-user)获取，向渲染也要对应
## 管理端learning map

在 isDelete 为 true 时，背景变红

```json
{
	"id": 126,
	"name": "Change Management",
	"firstLevelSkillName": null,
	"secondLevelSkillName": null,
	"content": [
		{
			"id": 17406,
			"contentTitle": "CompTIA A+ Core 2: Information Management & Change Management Processes",
			"bizType": 10,
			"recommendId": 5226,
			"keywords": "Information Management, Change Management, IT Component Management, Management Tools, Configuration And Management, Test Management, Configuration Testing",
			"level": 1,
			"matchDegree": 92,
			"matchReason": "The course explores change management best practices, including rollback plans, sandbox testing, and documenting business processes, which aligns with the change management skill tag.",
			"isRequired": null,
			"status": 1  // 当 status 为 3 时，代表内容被修改了，背景显示红色
		},
		{
			"id": 17428,
			"contentTitle": "CompTIA Security+: Effective Security Governance",
			"bizType": 10,
			"recommendId": 5432,
			"keywords": "Security Governance, Security Principles, Security Development, Security Management, Security Practices",
			"level": 1,
			"matchDegree": 90,
			"matchReason": "The course discusses change management as part of its coverage on best practices and standards in security governance.",
			"isRequired": null,
			"status": 1
		}
	]
},
```

## 用户端学习地图

![[Pasted image 20251011162932.png]]
![[Pasted image 20251011163114.png]]

## 手工匹配优化（第二次）

### 说明

要增加 add、edit 等按钮，实现纯手动修改课程与 tags 的对应关系（之前只有 AI match 方法，编辑是必定调用 AI-match，然后手工调整），现在就是需要直接的手工增加或编辑的 use-case

- 复用原本的 Match Result Dialog 组件（需要新增判断 调用的接口）
- 增加 add 按钮，用于手动添加一个 技能 tag，添加时 用户输入 tag name 后，应该调用 `/edp/skill/get-belonging-by-name` 接口，因为有的 tag name 已经存在，需要使用配置好的 一二级技能，并且不允许后续修改；如果接口返回null，则支持用户手动选择一二级技能，保存的时候需要传过来id
- edit 按钮用于编辑已经匹配过的课程，逻辑同上

接口调用说明：	
	点击add 或者 edit的时候 调/edp/learning-content-recommend/get-match-result接口
	
	新增技能，调/edp/skill/get-belonging-by-name接口
		如果接口有返回内容，则展示对应的名称，不允许下拉修改，保存的时候需要传过来id
		如果接口返回null，则支持用户手动选择一二级技能，保存的时候需要传过来id
	
	编辑完成后，调保存接口：/edp/learning-content-recommend/save接口，传参和之前confirm接口相似
	

之前match完成的数据结构，可以参考：
```
{
    "bizType": 10,
    "bizId": 4802,
    "level": 3,
    "keywords": "Human Relations, Organizational Development, Human Resources (HR), Strategic Human Resources, Employee Relations, Human Resources, Human Resources Management",
    "introduction": "Each week, more time is spent in the workplace than any other location, and employees therefore form relationships with the people they work with. It is incumbent upon HR to create an environment that is conducive to making that healthy for the employees while productive for the organization. Understanding human relations skills is not sufficient; the organization needs to embody that spirit as well. In this course, you&#39;ll learn how to prepare the organization to be more receptive to building positive human relations.",
    "contentSkills": {
        "content_name": "Professional in Human Resources: Organizational Relations",
        "skill_tags": [
            {
                "skill_tag": "Employee Relations",
                "compatibility_score": 0.95,
                "reason": "The learning content focuses on creating a healthy work environment and building positive human relations, which directly relates to managing employee relations."
            },
            {
                "skill_tag": "Organizational Development",
                "compatibility_score": 0.92,
                "reason": "The course emphasizes preparing the organization to embody a spirit conducive to positive human relations, aligning with organizational development goals."
            },
            {
                "skill_tag": "Team Building and Morale Boosting",
                "compatibility_score": 0.85,
                "reason": "The content discusses creating an environment that is productive for the organization while being healthy for employees, which ties into team building and boosting morale."
            },
            {
                "skill_tag": "Strategic Human Resources",
                "compatibility_score": 0.8,
                "reason": "Understanding how to strategically manage human resources to foster positive relations is a key aspect of the course content."
            },
            {
                "skill_tag": "Interpersonal Communication",
                "compatibility_score": 0.75,
                "reason": "The focus on healthy employee relationships and organizational spirit implies strong interpersonal communication skills are essential."
            }
        ]
    },
    "uuid": "1996483196366688256",
    "isNew": true,
    "title": "Professional in Human Resources: Organizational Relations",
    "historyMatchResult": null
}
```

